/* halloween.css */

/* ====== BASE ====== */
body {
  margin: 0;
  background: radial-gradient(circle at center, #0a0000 40%, #000 100%);
  color: #f2bfbf;
  font-family: 'Cinzel', serif;
  text-shadow: 0 0 6px #400000;
  transition: background 1s ease;
  overflow-x: hidden;
  position: relative;
  animation: backgroundPulse 12s infinite alternate ease-in-out;
}

#wrapper {
  max-width: 900px;
  margin: 0 auto;
  padding: 20px;
  perspective: 1000px;
  position: relative;
  z-index: 3;
}

/* ====== BACKGROUND MIST ====== */
body::before,
body::after {
  content: "";
  position: fixed;
  top: 0;
  left: -50%;
  width: 200%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
}

body::before {
  background: repeating-radial-gradient(
    circle at 20% 50%,
    rgba(255, 0, 0, 0.05),
    rgba(0, 0, 0, 0.1) 120px
  );
  opacity: 0.07;
  animation: mistDrift 90s linear infinite;
}

body::after {
  background: repeating-radial-gradient(
    circle at 60% 60%,
    rgba(255, 0, 0, 0.08),
    rgba(0, 0, 0, 0.1) 120px
  );
  opacity: 0.09;
  filter: blur(8px);
  animation: mistDriftReverse 120s linear infinite;
}

/* ====== BLOOD DRIP LAYER ====== */
body::before,
body::after,
body::after::after {
  pointer-events: none;
}

/* Add a third pseudo-element for dripping layer */
body::after::after {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 200%;
  background: repeating-linear-gradient(
    to bottom,
    rgba(255, 0, 0, 0.1) 0%,
    rgba(255, 0, 0, 0.15) 2%,
    transparent 6%
  );
  background-size: 100% 300%;
  opacity: 0.15;
  z-index: 0;
  animation: dripFlow 18s linear infinite;
  mix-blend-mode: screen;
}

/* ====== NAV ====== */
nav ul {
  display: flex;
  justify-content: space-around;
  padding: 0;
  list-style: none;
  background: linear-gradient(180deg, #1a0000, #000);
  border-bottom: 1px solid #330000;
  box-shadow: 0 0 30px rgba(255, 0, 0, 0.15);
}

nav li {
  padding: 12px 24px;
  color: #ff5555;
  text-transform: uppercase;
  letter-spacing: 2px;
  cursor: pointer;
  transition: transform 0.2s ease, text-shadow 0.3s ease;
  animation: subtleFlicker 5s infinite ease-in-out;
}

nav li:hover {
  transform: scale(1.2) rotateX(8deg);
  text-shadow: 0 0 18px #ff0000, 0 0 36px #800000;
}

/* ====== HEADINGS ====== */
h1 {
  text-align: center;
  color: #ffd9d9;
  font-size: 3em;
  margin-top: 40px;
  letter-spacing: 4px;
  text-shadow: 0 0 18px #a00000, 0 0 50px #300000;
  animation: brokenFlicker 3s infinite;
}

h2 {
  color: #ff6666;
  border-bottom: 2px solid #300000;
  display: inline-block;
  padding-bottom: 5px;
  text-shadow: 0 0 10px #660000;
  transition: transform 0.2s ease, color 0.3s ease;
  animation: subtleFlicker 7s infinite ease-in-out;
}

h2:hover {
  transform: translateY(-2px) scale(1.08);
  color: #ff0000;
  text-shadow: 0 0 20px #ff0000, 0 0 40px #660000;
}

/* ====== MAIN ====== */
main img {
  display: block;
  margin: 20px auto;
  width: 70%;
  max-width: 500px;
  filter: drop-shadow(0 0 25px #400000) brightness(0.8);
  transition: transform 0.4s ease, filter 0.4s ease;
  animation: imageFlicker 10s infinite ease-in-out;
}

main img:hover {
  transform: scale(1.05) rotateY(8deg);
  filter: drop-shadow(0 0 40px #990000) brightness(1);
}

section {
  margin: 40px 0;
  padding: 20px;
  background: rgba(10, 0, 0, 0.65);
  border-radius: 8px;
  box-shadow: inset 0 0 25px #2a0000, 0 0 15px #000;
  transform-style: preserve-3d;
  transition: transform 0.5s ease, box-shadow 0.3s ease;
  animation: subtleFlicker 8s infinite ease-in-out;
}

section:hover {
  transform: rotateY(3deg);
  box-shadow: inset 0 0 35px #440000, 0 0 25px #000;
}

/* ====== FOOTER ====== */
footer {
  text-align: center;
  padding: 20px;
  font-size: 0.9em;
  color: #aa2222;
  border-top: 1px solid #330000;
  background: linear-gradient(180deg, #000, #1a0000);
  box-shadow: 0 -10px 30px rgba(255, 0, 0, 0.08);
}

/* ====== ANIMATIONS ====== */
@keyframes dripFlow {
  0% {
    background-position: 0 -100%;
  }
  100% {
    background-position: 0 100%;
  }
}

@keyframes brokenFlicker {
  0%, 18%, 22%, 25%, 53%, 57%, 100% { opacity: 1; }
  19%, 21%, 23%, 26%, 55% { opacity: 0.6; }
  20%, 54% { opacity: 0.3; }
}

@keyframes subtleFlicker {
  0%, 100% { opacity: 1; }
  45%, 50% { opacity: 0.85; }
  48% { opacity: 0.5; }
}

@keyframes backgroundPulse {
  0% { background-color: #000; }
  100% { background-color: #190000; }
}

@keyframes mistDrift {
  0% { transform: translateX(0); }
  100% { transform: translateX(60%); }
}

@keyframes mistDriftReverse {
  0% { transform: translateX(0); }
  100% { transform: translateX(-60%); }
}

@keyframes imageFlicker {
  0%, 90%, 100% { filter: drop-shadow(0 0 25px #400000) brightness(0.8); }
  45% { filter: drop-shadow(0 0 35px #990000) brightness(1); }
  46% { filter: drop-shadow(0 0 10px #300000) brightness(0.6); }
}
